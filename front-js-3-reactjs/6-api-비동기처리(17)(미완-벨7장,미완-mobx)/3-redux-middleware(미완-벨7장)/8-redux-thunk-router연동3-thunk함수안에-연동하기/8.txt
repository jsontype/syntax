[Thunk에서 라우터 연동하기]



1. Thunk에서 라우터 연동하기
    프로젝트를 개발하다보면, thunk 함수 내에서 라우터를 사용해야 될 때도 있다. 
    예를 들자면, 로그인 요청을 하는데 로그인이 성공 할 시 / 경로로 이동시키고, 
    실패 할 시 경로를 유지 하는 형태로 구현 할 수도 있다.
    이번엔 그러한 상황엔 어떻게 구현을 해야하는지 알아보도록 하겠다.
    
    * 물론 컨테이너에 withRouter 사용해서 props로 history를 가져와서 사용해도 상관은 없지만, thunk에서 처리를 하면 코드가 훨씬 깔끔해질 수 있다.

1. 설치
    $ npm i history

1. src/index.js
customHistory 만들어서 적용하기
thunk 에서 라우터의 history 객체를 사용하려면, BrowserHistory 인스턴스를 직접 만들어서 적용해야합니다. index.js 를 다음과 같이 수정해주세요.
그리고, redux-thunk 의 withExtraArgument 를 사용하면 thunk함수에서 사전에 정해준 값들을 참조 할 수 있습니다.
스토어를 만드는 코드를 다음과 같이 변경해주세요.
스토어 인스턴스 생성

1. modules/posts.js - goToHome
홈 화면으로 가는 thunk 만들기
이제 홈 화면으로 가는 thunk를 작성해보도록 하겠습니다.
해당 함수를 posts 모듈에 추가해주세요.

1. containers/PostContainer.js
이제 PostContainer.js 에서 이 thunk 를 디스패치해볼까요?

지금은 단순히 다른 작업을 하지 않고 바로 홈으로 이동하게끔 했지만, 
실제 프로젝트에서는 getState() 를 사용하여 현재 리덕스 스토어의 상태를 확인하여 조건부로 이동을 하거나, 
특정 API를 호출하여 성공했을 시에만 이동을 하는 형식으로 구현을 할 수 있답니다.


1. 테스트
이제 잘 작동하는지 확인해보세요.

