[Next 15 headers, cookies ì˜ ë¹„ë™ê¸°í™”]

1. ì‚¬ì „ì¤€ë¹„: í”„ë¡œì íŠ¸ë¥¼ ìƒˆë¡œ ê¹”ì§€ ì•Šê³ , ì´ì „ ì±•í„°ì—ì„œì˜ ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ì¹´í”¼í•´ì„œ ê°€ì§€ê³  ì˜¨ë‹¤.

1. src/app/actions/setCookie.ts ì‘ì„±: ì„œë²„ ì•¡ì…˜ í•¨ìˆ˜. 
  - use serverê°€ í•„ìˆ˜ì´ë‹¤.
  - ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” tsxë¡œ ë§Œë“¤ì§€ë§Œ, ì•¡ì…˜ í•¨ìˆ˜ëŠ” tsë¡œë§Œ ì´ë¤„ì§.
  ```
    "use server"

    import { cookies } from "next/headers"

    // tokenì— contentë¥¼ ì €ì¥í•˜ëŠ” í•¨ìˆ˜
    export async function setLoginToken(token: string, content: string) {
      const cookiesList = await cookies()

      cookiesList.set(token, content, {
        httpOnly: true, // JSì—ì„œ ì ‘ê·¼ ëª»í•˜ê²Œ (XSS ë˜ëŠ” CSRF ë°©ì§€)
        secure: true, // HTTPSì—ì„œë§Œ
        path: "/",
        maxAge: 60 * 60 * 24 * 7, // 7ì¼
      })
    }
  ```

1. src/app/components/SetCookieButton.tsx ì‘ì„±: í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸.
  - use clientê°€ í•„ìˆ˜ì´ë‹¤.
  - onClick ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´, ì„œë²„ ì•¡ì…˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ì¿ í‚¤ë¥¼ ì„¤ì •í•˜ì§€ë§Œ, ì´ë•Œ onClickì€ Client Componentì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.
  ```
    'use client'

    import { setLoginToken } from '@/app/actions/setCookie'

    export default function SetCookieButton({ token, content }: { token: string; content: string }) {
      return (
        <button className="cursor-pointer" onClick={() => setLoginToken(token, content)}>
          ë¡œê·¸ì¸ í† í° ì„¤ì • ğŸ“
        </button>
      )
    }
  ```
  
1. src/app/movies/page.tsx ìˆ˜ì •: ë¬´ë¹„ í˜ì´ì§€ì— header, cookieë¥¼ ì‚¬ìš©í•´ë³´ê¸°
  - headers()ì™€ cookies()ëŠ” Next 13ê¹Œì§€ëŠ” ë™ê¸° í•¨ìˆ˜ì˜€ì§€ë§Œ, Next 15ë¶€í„°ëŠ” ë¹„ë™ê¸°ë¡œ ë°”ë€Œì—ˆë‹¤.
    ì„œë²„ ë Œë”ë§ ì‹œ í•„ìš”í•œ ì •ë³´(ì˜ˆë¥¼ ë“¤ì–´ user-agentë‚˜ ì¸ì¦ ì¿ í‚¤)ë¥¼ ì•ˆì „í•˜ê²Œ ë°›ì•„ì˜¬ ìˆ˜ ìˆë‹¤.
    ì´ë¥¼ í†µí•´ ì‚¬ìš©ì ë””ë°”ì´ìŠ¤ ì •ë³´, ì¸ì¦ ìƒíƒœ ë“±ì— ë”°ë¼ ë§ì¶¤í˜• SSR ì½˜í…ì¸ ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

1. í…ŒìŠ¤íŠ¸: SSGì˜ ë¬´ë¹„ ë””í…Œì¼ í˜ì´ì§€, ë¬´ë¹„ ë””í…Œì¼ í˜ì´ì§€ì—ì„œ í˜¸ì¶œí•˜ëŠ” CSRì˜ ëŒ“ê¸€ ì»´í¬ë„ŒíŠ¸ í™•ì¸

1. í…ŒìŠ¤íŠ¸: ë¬´ë¹„ ë¦¬ìŠ¤íŠ¸ì—ì„œ headersì™€ cookies í™•ì¸
  $ cd app1
  $ npm run dev
  - ë¬´ë¹„ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ì—ì„œ headersì™€ cookies ì •ë³´ê°€ ì˜ ë“¤ì–´ì˜¤ëŠ”ì§€ ì½˜ì†”ë¡œê·¸ í™•ì¸
  - ë¬´ë¹„ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ì˜ ìµœí•˜ë‹¨ì— ìˆëŠ” ë²„íŠ¼ì„ í´ë¦­í•˜ë©´, cookies ì •ë³´ê°€ ì´ˆê¸°ê°’ "ì •ë³´ ì—†ìŒ"ìœ¼ë¡œë¶€í„° ì˜ ê°±ì‹ ë˜ëŠ”ì§€ ì½˜ì†”ë¡œê·¸ í™•ì¸
  - app1/src/pages/movies/index.tsx ì— ìˆëŠ” SetCookieButton ì»´í¬ë„ŒíŠ¸ í˜¸ì¶œë¶€ì—ì„œ content í”„ë¡­ì˜ ê°’ì„ ë°”ê¿”ê°€ë©°, cookies ì •ë³´ê°€ ì˜ ê°±ì‹ ë˜ëŠ” ì§€ í•œë²ˆ ë” í™•ì¸
