---

description: コードレビュー: 実装コードのレビュー支援ルール
globs: \*

---

# コードレビューガイド

実装されたコードの品質、機能性、セキュリティなどを評価し、改善点を特定するためのガイドラインです。効果的なレビュープロセスによってコード品質を向上させ、問題の早期発見を支援します。

## 使用方法

このルールは以下のような形式で呼び出します：

```
@ review-code @ of-<対象> @ with-diff
```

例：

- `@ review-code @ of-api-implementation @ with-diff` - 変更された実装コードを自動検出してレビュー
- `@ review-code @ of-web-implementation src/components/Profile.tsx` - 特定ファイルをレビュー

with-diff ルールと組み合わせることで、変更前後の差分を明確にしながらレビューできます：

```
@ review-code @ of-<対象> @ with-diff [レビュー内容や確認したい点]
```

例：

- `@ review-code @ of-api-implementation @ with-diff 認証処理の改善箇所` - API 実装の変更差分をレビュー
- `@ review-code @ of-web-implementation @ with-diff UIコンポーネントのリファクタリング` - UI 改善の差分確認

特定のコミットやブランチとの差分をレビューすることも可能です：

```
@ review-code @ of-<対象>@<コミットID/ブランチ名> [レビュー内容]
```

例：

- `@ review-code @ of-api-implementation @ feature/auth-refactor 認証機能のリファクタリング` - 特定ブランチの実装をレビュー
- `@ review-code @ of-web-implementation @ HEAD~1 最新コミットの変更点を確認` - 直近のコミットをレビュー
- `@ review-code @ of-infra-design @ v2.0.0 (Diff of Working State) 現在の作業状態と安定版との差分確認` - 作業中の状態と特定バージョンとの差分を確認

## コードレビューの観点

### 1. 機能面

- **要件適合性**：設計ドキュメントや要件との整合性
- **機能の完全性**：必要な機能がすべて実装されているか
- **エッジケース対応**：例外的な状況や入力への対応
- **エラーハンドリング**：エラー状態の適切な処理と回復

### 2. 技術面

- **コードの品質**：可読性、保守性、テスト可能性
- **パフォーマンス**：処理効率、リソース使用量
- **セキュリティ**：一般的な脆弱性への対策
- **スケーラビリティ**：将来の拡張や変更への対応力

### 3. コーディング規約

- **命名規則**：変数、関数、クラスなどの命名が適切か
- **コードスタイル**：インデント、空白、改行などの一貫性
- **コメント**：必要に応じて適切なコメントが記述されているか
- **重複の排除**：重複コードの有無と抽象化の余地

### 4. テスト

- **テストカバレッジ**：重要な機能や条件分岐がテストされているか
- **テストの品質**：テストが意味のある検証を行っているか
- **テスト可能性**：コードがテストしやすい構造になっているか

## レビューコメントの記述方法

レビューコメントは以下の形式で記述すると効果的です：

```
【重要度】（高/中/低） 【種類】（バグ/改善/質問/提案）
【対象箇所】（ファイル名:行番号、または関数名）
【説明】
【改善案】（ある場合）
```

## コードレビューレポートの構成テンプレート

```markdown
# 【コンポーネント/機能名】コードレビューレポート

## 1. 総評

[コード全体に対する評価と主要な所見]

## 2. 主要な指摘事項

[重要度の高い指摘事項のまとめ]

## 3. 詳細コメント

[ファイルや機能ごとの詳細なコメント]

## 4. 改善提案

[コード改善のための具体的な提案]

## 5. 次のステップ

[修正後の確認方法や次のアクションの提案]
```

## コードレビューのベストプラクティス

- コード自体を評価し、実装者を批判しない
- 具体的かつ建設的なフィードバックを提供する
- 問題点だけでなく、良い実装にも言及する
- 優先度をつけて重要な問題に集中する
- 技術的な議論を通じて相互学習の機会とする
- レビュー結果の修正確認まで責任を持つ

---

description: コードレビュー: 実装コードのレビュー支援ルール
globs: \*

---

# コードレビューガイド

実装されたコードの品質、機能性、セキュリティなどを評価し、改善点を特定するためのガイドラインです。効果的なレビュープロセスによってコード品質を向上させ、問題の早期発見を支援します。

## 使用方法

このルールは以下のような形式で呼び出します：

```
@ review-code @ of-<対象> @ with-diff
```

例：

- `@ review-code @ of-api-implementation @ with-diff` - 変更された実装コードを自動検出してレビュー
- `@ review-code @ of-web-implementation src/components/Profile.tsx` - 特定ファイルをレビュー

with-diff ルールと組み合わせることで、変更前後の差分を明確にしながらレビューできます：

```
@ review-code @ of-<対象> @ with-diff [レビュー内容や確認したい点]
```

例：

- `@ review-code @ of-api-implementation @ with-diff 認証処理の改善箇所` - API 実装の変更差分をレビュー
- `@ review-code @ of-web-implementation @ with-diff UIコンポーネントのリファクタリング` - UI 改善の差分確認

特定のコミットやブランチとの差分をレビューすることも可能です：

```
@ review-code @ of-<対象>@<コミットID/ブランチ名> [レビュー内容]
```

例：

- `@ review-code @ of-api-implementation @ feature/auth-refactor 認証機能のリファクタリング` - 特定ブランチの実装をレビュー
- `@ review-code @ of-web-implementation @ HEAD~1 最新コミットの変更点を確認` - 直近のコミットをレビュー
- `@ review-code @ of-infra-design @ v2.0.0 (Diff of Working State) 現在の作業状態と安定版との差分確認` - 作業中の状態と特定バージョンとの差分を確認

## コードレビューの観点

### 1. 機能面

- **要件適合性**：設計ドキュメントや要件との整合性
- **機能の完全性**：必要な機能がすべて実装されているか
- **エッジケース対応**：例外的な状況や入力への対応
- **エラーハンドリング**：エラー状態の適切な処理と回復

### 2. 技術面

- **コードの品質**：可読性、保守性、テスト可能性
- **パフォーマンス**：処理効率、リソース使用量
- **セキュリティ**：一般的な脆弱性への対策
- **スケーラビリティ**：将来の拡張や変更への対応力

### 3. コーディング規約

- **命名規則**：変数、関数、クラスなどの命名が適切か
- **コードスタイル**：インデント、空白、改行などの一貫性
- **コメント**：必要に応じて適切なコメントが記述されているか
- **重複の排除**：重複コードの有無と抽象化の余地

### 4. テスト

- **テストカバレッジ**：重要な機能や条件分岐がテストされているか
- **テストの品質**：テストが意味のある検証を行っているか
- **テスト可能性**：コードがテストしやすい構造になっているか

## レビューコメントの記述方法

レビューコメントは以下の形式で記述すると効果的です：

```
【重要度】（高/中/低） 【種類】（バグ/改善/質問/提案）
【対象箇所】（ファイル名:行番号、または関数名）
【説明】
【改善案】（ある場合）
```

## コードレビューレポートの構成テンプレート

```markdown
# 【コンポーネント/機能名】コードレビューレポート

## 1. 総評

[コード全体に対する評価と主要な所見]

## 2. 主要な指摘事項

[重要度の高い指摘事項のまとめ]

## 3. 詳細コメント

[ファイルや機能ごとの詳細なコメント]

## 4. 改善提案

[コード改善のための具体的な提案]

## 5. 次のステップ

[修正後の確認方法や次のアクションの提案]
```

## コードレビューのベストプラクティス

- コード自体を評価し、実装者を批判しない
- 具体的かつ建設的なフィードバックを提供する
- 問題点だけでなく、良い実装にも言及する
- 優先度をつけて重要な問題に集中する
- 技術的な議論を通じて相互学習の機会とする
- レビュー結果の修正確認まで責任を持つ

---

## alwaysApply: true
